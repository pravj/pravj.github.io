<!DOCTYPE html>
<html lang="en">
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="Pravendra Singh">

  <!-- icons -->
  <link rel="apple-touch-icon-precomposed" sizes="192x192" href="//pravj.github.io/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="//pravj.github.io/public/favicon.ico">

  <!-- Open Graph Protocol metadata starts -->
  
  <meta property="og:title" content="Introducing Penticons &#58; The Hash Game">
  <meta property="og:type" content="article">
  <meta property="og:description" content="Identicons with better Collision resistance, similar to GitHub's contribution calendar">
  <meta property="article:published_time" content="2015-02-08">
  <meta property="article:author" content="Pravendra Singh">
  <meta property="article:section" content="Technology">

  
  <meta property="article:tag" content="Identicon">
  
  <meta property="article:tag" content="Golang">
  
  <meta property="article:tag" content="GitHub">
  
  <meta property="article:tag" content="Hash">
  
  <meta property="article:tag" content="Hack">
  

  


  <meta property="og:image" content="https://igcdn-photos-e-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-15/11358226_664361487027156_125876068_n.jpg">
  <meta property="og:url" content="http://pravj.github.io/blog/penticons-the-hash-game/">
  <meta property="og:site_name" content="Pravendra Singh Â· @hackpravj">
  <!-- Open Graph Protocol metadata ends -->

  <!-- Twitter cards metadata starts -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@hackpravj">
  <meta name="twitter:creator" content="@hackpravj">
  
  <meta name="twitter:title" content="Introducing Penticons &#58; The Hash Game">
  <meta name="twitter:description" content="Identicons with better Collision resistance, similar to GitHub's contribution calendar">
  
  <meta name="twitter:image" content="https://igcdn-photos-e-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-15/11358226_664361487027156_125876068_n.jpg">
  <!-- Twitter cards metadata ends -->

  <!-- FB insights -->
  <meta property="fb:admins" content="100003909612219" />

  <link type="text/css" rel="stylesheet" href="/public/css/materialize.min.css"  media="screen,projection"/>
  <link href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet">
  <link type="text/css" rel="stylesheet" href="/public/css/custom/site.css"  media="screen,projection"/>
  <link href='http://fonts.googleapis.com/css?family=Catamaran|Raleway' rel='stylesheet' type='text/css'>

  

  <title>Pravendra Singh</title>

  <!-- feed -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>
    <div class="container">
  <div class="row zero-bottom-margin">
    <div class="col s12 m6 l6 center-align">
      <h5><a class="navigation" href="/">Pravendra Singh</a></h5>
    </div>

    <div class="col s12 m6 l6 center-align">
      <div class="row">
        <div class="col s12">
          <ul>
            <li class="tab col s3"><span><a class="navigation" href="/about" title="About me, writing this takes most of the time."><span class="ion-person icon-black"></span></a></span></li>
            <li class="tab col s3"><span><a class="navigation" href="/blog" title="Atricles, right from my untold drafts."><span class="ion-ios-paper icon-black"></span></a></span></li>
            <li class="tab col s3"><span><a class="navigation" href="/projects" title="Projects, out of thin air."><span class="ion-social-github icon-black"></span></a></span></li>
            <li class="tab col s3"><span><a class="navigation" href="/quotes" title="Sayings, that can inspire you."><span class="ion-quote icon-black"></span></a></span></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>


    <div class="divider"></div>

    <div class="valign-wrapper" style="background:#7b9fd3;padding-top:10px;padding-bottom:10px;">
      <div class="valign container">
        <div class="row">
          <div class="col s12 article-date" style="color:#30343f;">
            08 Feb 2015
          </div>

          <div class="col s12">
            <h2 style="color:#fafaff;">Introducing Penticons &#58; The Hash Game</h2>
          </div>

          <div class="col s12 section-heading">
            <h6 style="color:#434a79;"><span><b>Identicons with better Collision resistance, similar to GitHub's contribution calendar</b></span></h6>
          </div>

          <div class="col s12 article-tags section-description">
            <ul>
              
              <li><span style="color:#30343f;" class="ion-ios-pricetag-outline"></span><a style="color:#dce0e9;" href="/tags#identicon"><b>&nbsp;Identicon</b></a></li>
              
              <li><span style="color:#30343f;" class="ion-ios-pricetag-outline"></span><a style="color:#dce0e9;" href="/tags#golang"><b>&nbsp;Golang</b></a></li>
              
              <li><span style="color:#30343f;" class="ion-ios-pricetag-outline"></span><a style="color:#dce0e9;" href="/tags#github"><b>&nbsp;GitHub</b></a></li>
              
              <li><span style="color:#30343f;" class="ion-ios-pricetag-outline"></span><a style="color:#dce0e9;" href="/tags#hash"><b>&nbsp;Hash</b></a></li>
              
              <li><span style="color:#30343f;" class="ion-ios-pricetag-outline"></span><a style="color:#dce0e9;" href="/tags#hack"><b>&nbsp;Hack</b></a></li>
              
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <div class="container post-content" style="font-family: 'Catamaran', sans-serif;">
      <p>Jennifer Lawrence fan, huh? It was <em>The Hash Game</em> by the way. Still in? Kewl.</p>

<h3>What&#39;s the buzz all about?</h3>

<p>Unfortunately, there is no buzz. This post is about development of <a href="https://github.com/penticons">Penticons</a>.</p>

<h3>Penticons. What?</h3>

<p>Remember those <a href="http://a0.twimg.com/sticky/default_profile_images/default_profile_6_normal.png">egg shaped profile pictures</a> on Twitter? They are automaticaly linked to your profile, when you forget to upload your custom profile picture.</p>

<p>Different services uses different default profile pictures. For example, Quora uses <a href="http://qph.is.quoracdn.net/main-qimg-caf2e843c5e4c9dfec11bf60f9e82ccb?convert_to_webp=true">this image</a> of their co-founder Charlie Cheever.</p>

<p>In Internet&#39;s language, these profile pictures are called <em>Avatars</em>. They represents a particular user or object on the Internet.</p>

<p>As we have seen, Quora provides a single image as the default avatar. What if, you want to distinguish between users on the basis of their <em>avatars</em>?</p>

<p>This particular problem to recognize users or objects according to their <em>avatar</em> images was the main force behind the invention of <a href="http://en.wikipedia.org/wiki/Identicon">Identicons</a>.</p>

<blockquote>
<p>An Identicon is a visual representation of a <strong>hash value</strong>, uniquely* mapped to any object on the internet.</p>
</blockquote>

<p><em>Penticons</em> are just another implementation of identicons. But it tries to solve a key problem with available identicons. Let&#39;s see how.</p>

<h3>Hash value. What?</h3>

<p>Let&#39;s put this identicon thingy in the left and talk on something interesting.</p>

<p>Do you know, How do they store your password in the Facebook? Obviously you do, but in case you don&#39;t, let me confess something.</p>

<p>They have some guys sitting there, they remember all your passwords and match it to your input whenever you log in to the service. That simple it is.</p>

<p>Facebook also keeps a <em>hashed</em> version of your passwords, in case all those smart guys are on leave, they just <em>hash</em> your input again to match with their stored value. They log you in, if both of the values are same.</p>

<p>In case you are thinking, why do they <em>hash</em> your passwords? They do it to make sure that nobody really knows your passwords except those <em>smart and loyal</em> guys.</p>

<h3>Hash.. Hash.. What the Hash?</h3>

<p>Let&#39;s fly back to the junior mathematics class and consider this tiny function. <img src="//pravj.github.io/assets/penticons/function.png" alt="function">
Now, if I ask, what is the value of x when the value of function is 0? You can answer this easily by solving this simple quadratic equation. The values will be 2 and 1.</p>

<p>What if I change the function to a bit more horrible one. For example, take this. <img src="//pravj.github.io/assets/penticons/hard-function.png" alt="hard-function"></p>

<p>Feeling cold, huh? Well! you can still find the roots but with a bit more effort. One simple effort you can do is to <em>google</em> this equation and you&#39;ll find it on the very first result page.</p>

<p>The <em>Hash Function</em> we were talking about is one similar function that takes a value and returns the mapped value.</p>

<p>But in case of the <em>Cryptographic Hash Functions</em>, it&#39;s pretty hard to get back the <em>pre-image</em> of a function value, somewhat like the second function above.</p>

<p>Additionally, these <em>Hash Functions</em> are supposed to be <em>injective</em> in nature. Unlike the first function above, which has two roots 2 and 1. In reality they are not totally injetive, though.</p>

<p><a href="http://en.wikipedia.org/wiki/MD5">MD5</a> and <a href="http://en.wikipedia.org/wiki/SHA-1">SHA-1</a> are two such <em>Cryptographic Hash Functions</em>.</p>

<h3>Any wrong with these Hash Functions?</h3>

<p>Yeah! Let&#39;s consider the MD5 hash function.</p>

<p>It generates a 128 bit hash-value for any argument. In the text format, it&#39;s written as a 32 digit hexadecimal number.</p>

<p>For example, the word &quot;alpha&quot; results in, <em>2c1743a391305fbf367df8e4f069f9f9</em></p>

<p>Can you guess, what is the maximum possible hash count MD5 can generate?
<img src="//pravj.github.io/assets/penticons/md5-count.png" alt="md5-count"> So if you have more elements than this count to hash, MD5 would be producing similar hashes for all the extra elements.</p>

<p>This is the case when MD5 is pure as hell, but it&#39;s not actually.</p>

<p>There are many reports showing cryptographic weakness of MD5. For example, consider <a href="http://www.mathstat.dal.ca/%7Eselinger/md5collision/">this report</a>.</p>

<h3>Why Penticons?</h3>

<p><em>Penticons tries to solve one key problem with available identicons.</em> Let me explain.</p>

<p>They are developed on top of the identicons that <a href="https://github.com/blog/1586-identicons">GitHub provides</a>. There are <a href="https://github.com/search?utf8=%E2%9C%93&amp;q=identicon">many other</a> similar identicon implementations available on GitHub.</p>

<p>Let&#39;s take an inside on How these identicons works.</p>

<p>They generates a 5x5 pixel sprites, where they choose to color some of the pixel and left rest pixels as blank, according to the hash of user&#39;s handle. They also have a vertical axis of symmetry, so the identicon is similar from left to right. Finally they color non-blank pixels with a color.</p>

<p>Now, what is the maximum number of identicons generated this way?</p>

<p>Suppose they are using 20 colors to fill in the non-blank pixels, they are <a href="https://github.com/cupcake/sigil/blob/6bf9722f2ae82f58a0c7d48daeb40ec844b78eae/server.go#L20-L29">not using</a> this much colors, though. Then total possible identicon count will be :
<img src="//pravj.github.io/assets/penticons/total-identicon.png" alt="total-identicons"></p>

<p>On the other hand, <em>Penticons</em> uses <a href="https://github.com/penticons/penticons.go/blob/master/utils/utils.go#L21-L25">5 colors</a> only, from GitHub&#39;s contribution calendar. They also have a vertical axis of symmetry.</p>

<p>But instead of using a fix color to fill in, it uses any one of the 5, according to the hash value. This way, total number of identicons will be :<img src="//pravj.github.io/assets/penticons/total-penticons.png" alt="total-penticons"></p>

<p>Which is way more than other implementations, so the rate of collision is also less here.</p>

<h3>Now what?</h3>

<p>I made an organization for <a href="https://github.com/penticons">Penticons</a>; just to look cool, though. I think so.</p>

<p>Last night, I wrote the <a href="https://github.com/penticons/penticons.go">golang implementation</a> for <em>Penticons</em>. My friend <a href="https://github.com/nkman">Nairitya</a> will be writing some more very soon, at-least he promised me. Let&#39;s see.</p>

<p><em>Avatar</em> for the organization is a penticon itself, of the word &quot;Penticons&quot;.
<img src="//pravj.github.io/assets/penticons/avatar.png" alt="avatar"></p>

    </div>

    <div class="divider"></div>

    <div class="container section">
  <span>
    <iframe src="http://ghbtns.com/github-btn.html?user=pravj&type=follow&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="165" height="20">
    </iframe>
  </span>

  <span style="margin-right:20px;">
    <a href="https://twitter.com/share" class="twitter-share-button" data-via="hackpravj">
      Tweet
    </a>
    <script>
      !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
    </script>
  </span>

  <span style="margin-right:20px;display:inline-flex;" class="fb-like" data-href=//pravj.github.io/blog/penticons-the-hash-game/ data-action="like" data-layout="button_count" data-show-faces="false" data-share="false" style="display: inline-flex;">
  </span>
</div>


    <div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>


    <div class="container">
      <div class="related">
        <h5>Recent Posts</h4>
        <ul class="related-posts">
          
            <li>
              <h6>
                <a href="/blog/development-story-of-puzzl/">
                  Development story of puzzl
                  <small>23 Apr 2015</small>
                </a>
              </h6>
            </li>
          
            <li>
              <h6>
                <a href="/blog/painting-a-virtual-wall/">
                  Holy Aesthete &#58; painting a virtual wall
                  <small>06 Mar 2015</small>
                </a>
              </h6>
            </li>
          
            <li>
              <h6>
                <a href="/blog/open-source-presence-infographic/">
                  Open Source Presence Infographic of Indian Startups
                  <small>17 Jan 2015</small>
                </a>
              </h6>
            </li>
          
        </ul>
      </div>

      <h5>Discussion</h5>
      <div class="disqus">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'pravj'; // required: replace example with your forum shortname
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
      Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>
    <a href="http://disqus.com" class="dsq-brlink">
      comments powered by <span class="logo-disqus">Disqus</span>
    </a>
</div>

    </div>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-48537986-1', 'pravj.github.io');
  ga('send', 'pageview');
</script>


  </body>
</html>
