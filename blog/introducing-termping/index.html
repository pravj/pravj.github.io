<!DOCTYPE html>
<html lang="en">
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="Pravendra Singh">

  <!-- icons -->
  <link rel="apple-touch-icon-precomposed" sizes="192x192" href="//pravj.github.io/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="//pravj.github.io/public/favicon.ico">

  <!-- Open Graph Protocol metadata starts -->
  
  <meta property="og:title" content="termping &#58; &#9829; &#43; Node.js &#43; Streams &#43; CoffeeScript">
  <meta property="og:type" content="article">
  <meta property="og:description" content="The game of Pong for terminals, built with Streams">
  <meta property="article:published_time" content="2014-07-27">
  <meta property="article:author" content="Pravendra Singh">
  <meta property="article:section" content="Technology">

  
  <meta property="article:tag" content="Node.js">
  
  <meta property="article:tag" content="CoffeeScript">
  
  <meta property="article:tag" content="Game">
  
  <meta property="article:tag" content="Hack">
  
  <meta property="article:tag" content="Terminal">
  

  


  <meta property="og:image" content="https://igcdn-photos-e-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-15/11358226_664361487027156_125876068_n.jpg">
  <meta property="og:url" content="http://pravj.github.io/blog/introducing-termping/">
  <meta property="og:site_name" content="Pravendra Singh Â· @hackpravj">
  <!-- Open Graph Protocol metadata ends -->

  <!-- Twitter cards metadata starts -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@hackpravj">
  <meta name="twitter:creator" content="@hackpravj">
  
  <meta name="twitter:title" content="termping &#58; &#9829; &#43; Node.js &#43; Streams &#43; CoffeeScript">
  <meta name="twitter:description" content="The game of Pong for terminals, built with Streams">
  
  <meta name="twitter:image" content="https://igcdn-photos-e-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-15/11358226_664361487027156_125876068_n.jpg">
  <!-- Twitter cards metadata ends -->

  <!-- FB insights -->
  <meta property="fb:admins" content="100003909612219" />

  <link type="text/css" rel="stylesheet" href="/public/css/materialize.min.css"  media="screen,projection"/>
  <link href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet">
  <link type="text/css" rel="stylesheet" href="/public/css/custom/site.css"  media="screen,projection"/>
  <link href='http://fonts.googleapis.com/css?family=Catamaran|Raleway' rel='stylesheet' type='text/css'>

  <title>Pravendra Singh</title>

  <!-- feed -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>
    <div class="container">
  <div class="row zero-bottom-margin">
    <div class="col s12 m6 l6 center-align">
      <h5><a class="navigation" href="/">Pravendra Singh</a></h5>
    </div>

    <div class="col s12 m6 l6 center-align">
      <div class="row">
        <div class="col s12">
          <ul>
            <li class="tab col s3"><span><a class="navigation" href="/about" title="About me, writing this takes most of the time."><span class="ion-person icon-black"></span></a></span></li>
            <li class="tab col s3"><span><a class="navigation" href="/blog" title="Atricles, right from my untold drafts."><span class="ion-ios-paper icon-black"></span></a></span></li>
            <li class="tab col s3"><span><a class="navigation" href="/projects" title="Projects, out of thin air."><span class="ion-social-github icon-black"></span></a></span></li>
            <li class="tab col s3"><span><a class="navigation" href="/quotes" title="Sayings, that can inspire you."><span class="ion-quote icon-black"></span></a></span></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>


    <div class="divider"></div>

    <div class="valign-wrapper" style="background:#7b9fd3;padding-top:10px;padding-bottom:10px;">
      <div class="valign container">
        <div class="row">
          <div class="col s12 article-date" style="color:#30343f;">
            27 Jul 2014
          </div>

          <div class="col s12">
            <h2 style="color:#fafaff;">termping &#58; &#9829; &#43; Node.js &#43; Streams &#43; CoffeeScript</h2>
          </div>

          <div class="col s12 section-heading">
            <h6 style="color:#434a79;"><span><b>The game of Pong for terminals, built with Streams</b></span></h6>
          </div>

          <div class="col s12 article-tags section-description">
            <ul>
              
              <li><span style="color:#30343f;" class="ion-ios-pricetag-outline"></span><a style="color:#dce0e9;" href="/tags#node-js"><b>&nbsp;Node.js</b></a></li>
              
              <li><span style="color:#30343f;" class="ion-ios-pricetag-outline"></span><a style="color:#dce0e9;" href="/tags#coffeescript"><b>&nbsp;CoffeeScript</b></a></li>
              
              <li><span style="color:#30343f;" class="ion-ios-pricetag-outline"></span><a style="color:#dce0e9;" href="/tags#game"><b>&nbsp;Game</b></a></li>
              
              <li><span style="color:#30343f;" class="ion-ios-pricetag-outline"></span><a style="color:#dce0e9;" href="/tags#hack"><b>&nbsp;Hack</b></a></li>
              
              <li><span style="color:#30343f;" class="ion-ios-pricetag-outline"></span><a style="color:#dce0e9;" href="/tags#terminal"><b>&nbsp;Terminal</b></a></li>
              
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <div class="container post-content" style="font-family: 'Catamaran', sans-serif;">
      <blockquote>
<div class="highlight"><pre><code class="language-text" data-lang="text">before I start the tell
</code></pre></div>
<p>you should have a look on <a href="https://github.com/pravj/termping.git">termping</a>, if you haven&#39;t yet.</p>
</blockquote>

<h3>What&#39;s the fuss about</h3>

<p>This Blog is all about Development of a game(kind of) <a href="https://github.com/pravj/termping.git">termping</a>, which is a prototype of one of the oldest video game <a href="https://en.wikipedia.org/wiki/Pong">Pong</a>.</p>

<p><strong>but this prototype runs in your system&#39;s <a href="https://en.wikipedia.org/wiki/Computer_terminal">terminal</a></strong></p>

<h3>Emergence</h3>

<blockquote>
<p>One thing that I just feel, I am getting good at is
<strong>&quot;reading and understanding other people&#39;s code&quot;</strong> <em>&#35;notprasingmyself</em></p>
</blockquote>

<p>In this summer I have explored unlimited repository out there on <a href="https://github.com/pravj">GitHub</a>. some for solving any kind of issues I was facing in using them or some for just sake of learning anything new, be it any new language(Ruby) or a new field(Vim) for me.</p>

<p>One interesting recap is that I was working on a project for my team(<a href="https://twitter.com/sdslabs">SDSLabs</a>) and I was using a ruby library as HTTP client, <a href="https://github.com/rest-client/rest-client">Rest-Client</a>. I started facing issue(obviously) as I was new to Ruby. So I started reading code of Rest-Client just to take a look that what are the ingredients and their quantity in this library.</p>

<p>finally I completed Rest-Client with a better understanding that solved all my issues with it and gave me introduction to a new field, which is :</p>

<blockquote>
<p>How does HTTP and REST clients works</p>
</blockquote>

<p>Also while learning about the large world of <strong><a href="https://github.com/pravj/dotfiles/tree/learning/vim">Vim</a></strong>, I started developing on a rough idea in my mind. which was to develop a Pong like game, playable in Vim editor itself. I tried it, under the name of <a href="https://github.com/pravj/vingvong">vingvong.</a>. But I was unable to complete it because Vim does not support Asynchronous subprocesses, so I stopped the development.</p>

<p>May be you have any other way of implementing same or I&#39;m wrong somewhere. If so, please let <a href="https://twitter.com/hackpravj">me</a> know.</p>

<p>In the same mission, one day I was going through project <a href="https://github.com/visionmedia/nshell">nshell</a> of <em>one and only</em> <strong><a href="https://github.com/visionmedia">visionmedia</a></strong>. I selected this repository because I recently developed an interest in <a href="https://github.com/pravj/dotfiles">bash, shells and dotfiles management</a>.</p>

<p>I saw, he was using <a href="http://nodejs.org/docs/latest/api/stream.html#stream_stream">Stream</a> in nshell development. I googled about streams and found many resources, this includes <a href="http://nodejs.org/docs/latest/api/stream.html">official stream docs</a> and <a href="https://github.com/substack/stream-handbook">stream-handbook</a> and many others.</p>

<p>Before that day, I have seen many people starring the <em>stream-handbook</em> in my GitHub feed. But I was like <em>this thing does not belongs to me, right now</em>.</p>

<p>But that day I opened <em>stream-handbook</em> with a motive to learn something. I started reading it and found that <em>Streams</em> is a nice topic to learn.</p>

<p>Suddenly my mind searched something from it&#39;s index and showed me result in form of an idea. It was :</p>

<blockquote>
<p>Why don&#39;t you just restart that Pingpong thing with this Stream ?</p>
</blockquote>

<p><strong>that&#39;s all I wanted.</strong></p>

<h3>Development</h3>

<p>when I started thinking about Developing, shaping it as a <strong>Node Module</strong> was the only and right option. I knew already that writing a Node Module in <strong>CoffeeScript</strong> is both fancy(for world) and easy(for me).</p>

<p>There was another reason for Choosing CoffeeScript, my experience in CoffeeScript was only limited to write <a href="https://gist.github.com/pravj/2f500607d0aa1bae26a2">some</a> hubot scripts for customizing internal communication at <a href="https://github.com/sdslabs">SDSLabs.</a></p>

<p>I was a cool opportunity to learn and do more things in CoffeeScript, so finally I was like :</p>

<blockquote>
<p>OK, lets move with CoffeeScript.</p>
</blockquote>

<p>One coolest thing is that for CoffeeScript, I have only used <a href="http://arcturo.github.io/library/coffeescript/">The Little Book on CoffeeScript</a>, no StackOverflow here.</p>

<p>The current version of <strong>termping</strong> is open-sourced at <a href="https://github.com/pravj/termping">GitHub</a>, feel free to contribute to it.</p>

<p>Now I&#39;ll try to explain Source Code of <strong>termping.</strong></p>

<p>Here is the current file structure of the repository, once you browse it.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">.
|__.npmignore
|__src
| |__objects.coffee
| |__game.coffee
| |__movement.coffee
| |__status.coffee
| |__source.coffee
|__Cakefile
|__bin
| |__termping
|__package.json
|__.gitignore
|__README.md
|__docs
| |__termping.gif
</code></pre></div>
<p>PS : this tree structure is generated from <a href="https://github.com/pravj/dotfiles/blob/learning/bin/treegen">treegen</a>, my own attempt as the alternative of the great <code>tree</code> command.</p>

<p>you can see, main things are inside <code>/src</code> directory.</p>

<h4>1. objects.coffee</h4>

<p>Object class keeps the game objects, including <em>ball</em>, <em>paddle</em> and <em>data</em> to be rendered on screen. It also helps to populate the data initially according to terminal size.</p>

<h4>2. game.coffee</h4>

<p>Game class combines all available things at one place and makes it possible to play the game. It also invoke things in other classes on some particular events like <em>left</em>/<em>right</em> or <em>SpaceBar</em> key press, that enable pause/resume or movement of paddle.</p>

<h4>3. movement.coffee</h4>

<p>Movement class handles all movement related things. Ex. moving of user&#39;s paddle, movement of ball, movement of computer&#39;s paddle and one most useful thing <em>Collision Detection</em>.</p>

<h4>4. status.coffee</h4>

<p>status.coffee carries all variable and their values that different classes use throughout the game. which includes, velocity of ball, paddle positions, ball positions, state of game etc.</p>

<h4>5. source.coffee</h4>

<p>Source class is leading character in the movie. This is the place where all that Stream thing shows the magic. What it does is to <strong>pipe</strong> the data to the <strong>stdout</strong> that is to be rendered on screen. That&#39;s why I named it as Source. Other classes just work together and periodically update the data.</p>

<h3>Learning</h3>

<blockquote>
<p>finally the thing is that, was this all worth doing ?</p>
</blockquote>

<p>Answer is : <strong>Obviously, Yes. It&#39;s always good to be pragmatic.</strong></p>

<ul>
<li>Now I feel as good with <strong>CoffeeScript</strong> as I feel with my love, <strong>Python</strong>.

<ul>
<li>as the Book says, CoffeeScript is a little language, but it&#39;s pretty cool one.</li>
</ul></li>
<li>Finally I have a <a href="https://www.npmjs.org/package/termping">NPM Module</a> under my name \m/.

<ul>
<li>I have completed things in form of NPM modules 2-3 times but never published them, because I developed them for internal/local use only.</li>
</ul></li>
<li>I continued working on it, because I just wanted to complete that un-complete <a href="https://github.com/pravj/vingvong">vingvong</a> thing.

<ul>
<li>Finally now, the revenge has been taken, <strong>Yo</strong>.</li>
<li>It was the motive to complete it, that&#39;s why I have added that â¥ in starting, instead of adding it in last.</li>
</ul></li>
</ul>

<h3>Extra Learning</h3>

<blockquote>
<p>Extra learning just means, things that I explored while developing it.</p>
</blockquote>

<ul>
<li><strong>termping</strong> is entirely developed in <strong>Vim</strong>, <strong><em>you can smell it</em></strong>.</li>
<li><strong>Git</strong> repo in <strong>termping</strong> uses a pattern in it&#39;s <a href="https://github.com/pravj/termping/commits/master">commit messages</a>.

<ul>
<li><strong>Commit messages uses a Prefix with them, which is</strong></li>
<li><strong>add</strong> : when your commit is adding something new to the repository.</li>
<li><strong>change</strong> : when your commit is changing something that already exists.</li>
<li><strong>remove</strong> : when your commit is removing things from the repository.</li>
<li><strong>fix</strong> : when commit fixes something wrong with repository.</li>
<li><strong>update</strong> : when commit updates version info about repository.</li>
</ul></li>
<li>Commit messages respects everything <a href="http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html">suggested</a> by the great man of <em>Vim World</em>, <a href="https://github.com/tpope">Tim Pope</a></li>
</ul>

<h3>Contribution</h3>

<p><strong>termping</strong> is still not complete, what you can contribute is :</p>

<ul>
<li>A scoring thing, that counts score and decide winner when one player reach at score limit.</li>
<li>A level thing, that divides the game in parts depending on level of difficulty.</li>
<li>Feel free to open any <a href="https://github.com/pravj/termping/issues">issue</a> or <a href="https://github.com/pravj/termping/pulls">Pull requests</a> with a feature you want there.</li>
</ul>

<p>I am not directly writing any more code to it right now, because I have to get involved with some other necessary things, but I will try to helps anyone interested.</p>

<p><strong>It was a great journey so far, with nice learning experience.</strong></p>

    </div>

    <div class="divider"></div>

    <div class="container section">
  <span>
    <iframe src="http://ghbtns.com/github-btn.html?user=pravj&type=follow&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="165" height="20">
    </iframe>
  </span>

  <span style="margin-right:20px;">
    <a href="https://twitter.com/share" class="twitter-share-button" data-via="hackpravj">
      Tweet
    </a>
    <script>
      !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
    </script>
  </span>

  <span style="margin-right:20px;display:inline-flex;" class="fb-like" data-href=//pravj.github.io/blog/introducing-termping/ data-action="like" data-layout="button_count" data-show-faces="false" data-share="false" style="display: inline-flex;">
  </span>
</div>


    <div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>


    <div class="container">
      <div class="related">
        <h5>Recent Posts</h4>
        <ul class="related-posts">
          
            <li>
              <h6>
                <a href="/blog/development-story-of-puzzl/">
                  Development story of puzzl
                  <small>23 Apr 2015</small>
                </a>
              </h6>
            </li>
          
            <li>
              <h6>
                <a href="/blog/painting-a-virtual-wall/">
                  Holy Aesthete &#58; painting a virtual wall
                  <small>06 Mar 2015</small>
                </a>
              </h6>
            </li>
          
            <li>
              <h6>
                <a href="/blog/penticons-the-hash-game/">
                  Introducing Penticons &#58; The Hash Game
                  <small>08 Feb 2015</small>
                </a>
              </h6>
            </li>
          
        </ul>
      </div>

      <h5>Discussion</h5>
      <div class="disqus">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'pravj'; // required: replace example with your forum shortname
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
      Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>
    <a href="http://disqus.com" class="dsq-brlink">
      comments powered by <span class="logo-disqus">Disqus</span>
    </a>
</div>

    </div>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-48537986-1', 'pravj.github.io');
  ga('send', 'pageview');
</script>


  </body>
</html>
