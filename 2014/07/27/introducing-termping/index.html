<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="keywords" content="pravj, pravendra singh, iit roorkee, hackpravj, python, github">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      termping &#58; &#9829; &#43; Node.js &#43; Streams &#43; CoffeeScript &middot; Pravendra Singh
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  </head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Developer · Explorer · Student</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Blog</a>

    

    
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
    
      
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
    
      
    
      
    

    <a class="sidebar-nav-item" href="">Source</a>

    <span class="sidebar-nav-item">Contact</span>
    <a class="sidebar-nav-item" href="https://github.com/pravj">GitHub</a>
    <a class="sidebar-nav-item" href="https://twitter.com/hackpravj">Twitter</a>
    <a class="sidebar-nav-item" href="mailto:hackpravj@gmail.com">Gmail</a>
    <a class="sidebar-nav-item" href="http://quora.com/Pravendra-Singh-Rathore">Quora</a>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2015. Pravendra Singh.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Pravendra Singh</a>
            <small>: falling leaves</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <span class="post-date">
    <a href="/timeline" class="timeline">
      27 Jul 2014
    </a>
  </span>
  <h1 class="post-title">termping &#58; &#9829; &#43; Node.js &#43; Streams &#43; CoffeeScript</h1>
  <span class="post-tag">
      
        
          <a href="/tags/#Node.js">
            Node.js
          </a>
          &middot;
        
      
        
          <a href="/tags/#Coffeescript">
            Coffeescript
          </a>
          &middot;
        
      
        
          <a href="/tags/#Game">
            Game
          </a>
          &middot;
        
      
        
          <a href="/tags/#Hack">
            Hack
          </a>
          &middot;
        
      
        
          <a href="/tags/#Terminal">
            Terminal
          </a>

        
      
  </span>

  <hr>

  <blockquote>
<div class="highlight"><pre><code class="language-text" data-lang="text">before I start the tell
</code></pre></div>
<p>you should have a look on <a href="https://github.com/pravj/termping.git">termping</a>, if you haven&#39;t yet.</p>
</blockquote>

<h1>What&#39;s the fuss about</h1>

<p>This Blog is all about Development of a game(kind of) <a href="https://github.com/pravj/termping.git">termping</a>, which is a prototype of one of the oldest video game <a href="https://en.wikipedia.org/wiki/Pong">Pong</a>.</p>

<p><strong>but this prototype runs in your system&#39;s <a href="https://en.wikipedia.org/wiki/Computer_terminal">terminal</a></strong></p>

<h1>Emergence</h1>

<blockquote>
<p>One thing that I just feel, I am getting good at is
<strong>&quot;reading and understanding other people&#39;s code&quot;</strong> <em>&#35;notprasingmyself</em></p>
</blockquote>

<p>In this summer I have explored unlimited repository out there on <a href="https://github.com/pravj">GitHub</a>. some for solving any kind of issues I was facing in using them or some for just sake of learning anything new, be it any new language(Ruby) or a new field(Vim) for me.</p>

<p>One interesting recap is that I was working on a project for my team(<a href="https://twitter.com/sdslabs">SDSLabs</a>) and I was using a ruby library as HTTP client, <a href="https://github.com/rest-client/rest-client">Rest-Client</a>. I started facing issue(obviously) as I was new to Ruby. So I started reading code of Rest-Client just to take a look that what are the ingredients and their quantity in this library. </p>

<p>finally I completed Rest-Client with a better understanding that solved all my issues with it and gave me introduction to a new field, which is :</p>

<blockquote>
<p>How does HTTP and REST clients works</p>
</blockquote>

<p>Also while learning about the large world of <strong><a href="https://github.com/pravj/dotfiles/tree/learning/vim">Vim</a></strong>, I started developing on a rough idea in my mind. which was to develop a Pong like game, playable in Vim editor itself. I tried it, under the name of <a href="https://github.com/pravj/vingvong">vingvong.</a>. But I was unable to complete it because Vim does not support Asynchronous subprocesses, so I stopped the development.</p>

<p>May be you have any other way of implementing same or I&#39;m wrong somewhere. If so, please let <a href="https://twitter.com/hackpravj">me</a> know.</p>

<p>In the same mission, one day I was going through project <a href="https://github.com/visionmedia/nshell">nshell</a> of <em>one and only</em> <strong><a href="https://github.com/visionmedia">visionmedia</a></strong>. I selected this repository because I recently developed an interest in <a href="https://github.com/pravj/dotfiles">bash, shells and dotfiles management</a>.</p>

<p>I saw, he was using <a href="http://nodejs.org/docs/latest/api/stream.html#stream_stream">Stream</a> in nshell development. I googled about streams and found many resources, this includes <a href="http://nodejs.org/docs/latest/api/stream.html">official stream docs</a> and <a href="https://github.com/substack/stream-handbook">stream-handbook</a> and many others.</p>

<p>Before that day, I have seen many people starring the <em>stream-handbook</em> in my GitHub feed. But I was like <em>this thing does not belongs to me, right now</em>.</p>

<p>But that day I opened <em>stream-handbook</em> with a motive to learn something. I started reading it and found that <em>Streams</em> is a nice topic to learn.</p>

<p>Suddenly my mind searched something from it&#39;s index and showed me result in form of an idea. It was :</p>

<blockquote>
<p>Why don&#39;t you just restart that Pingpong thing with this Stream ?</p>
</blockquote>

<p><strong>that&#39;s all I wanted.</strong></p>

<h1>Development</h1>

<p>when I started thinking about Developing, shaping it as a <strong>Node Module</strong> was the only and right option. I knew already that writing a Node Module in <strong>CoffeeScript</strong> is both fancy(for world) and easy(for me).</p>

<p>There was another reason for Choosing CoffeeScript, my experience in CoffeeScript was only limited to write <a href="https://gist.github.com/pravj/2f500607d0aa1bae26a2">some</a> hubot scripts for customizing internal communication at <a href="https://github.com/sdslabs">SDSLabs.</a></p>

<p>I was a cool opportunity to learn and do more things in CoffeeScript, so finally I was like :</p>

<blockquote>
<p>OK, lets move with CoffeeScript.</p>
</blockquote>

<p>One coolest thing is that for CoffeeScript, I have only used <a href="http://arcturo.github.io/library/coffeescript/">The Little Book on CoffeeScript</a>, no StackOverflow here.</p>

<p>The current version of <strong>termping</strong> is open-sourced at <a href="https://github.com/pravj/termping">GitHub</a>, feel free to contribute to it.</p>

<p>Now I&#39;ll try to explain Source Code of <strong>termping.</strong></p>

<p>Here is the current file structure of the repository, once you browse it.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">.
|__.npmignore
|__src
| |__objects.coffee
| |__game.coffee
| |__movement.coffee
| |__status.coffee
| |__source.coffee
|__Cakefile
|__bin
| |__termping
|__package.json
|__.gitignore
|__README.md
|__docs
| |__termping.gif
</code></pre></div>
<p>PS : this tree structure is generated from <a href="https://github.com/pravj/dotfiles/blob/learning/bin/treegen">treegen</a>, my own attempt as the alternative of the great <code>tree</code> command.</p>

<p>you can see, main things are inside <code>/src</code> directory.</p>

<h4>1. objects.coffee</h4>

<p>Object class keeps the game objects, including <em>ball</em>, <em>paddle</em> and <em>data</em> to be rendered on screen. It also helps to populate the data initially according to terminal size.</p>

<h4>2. game.coffee</h4>

<p>Game class combines all available things at one place and makes it possible to play the game. It also invoke things in other classes on some particular events like <em>left</em>/<em>right</em> or <em>SpaceBar</em> key press, that enable pause/resume or movement of paddle.</p>

<h4>3. movement.coffee</h4>

<p>Movement class handles all movement related things. Ex. moving of user&#39;s paddle, movement of ball, movement of computer&#39;s paddle and one most useful thing <em>Collision Detection</em>.</p>

<h4>4. status.coffee</h4>

<p>status.coffee carries all variable and their values that different classes use throughout the game. which includes, velocity of ball, paddle positions, ball positions, state of game etc.</p>

<h4>5. source.coffee</h4>

<p>Source class is leading character in the movie. This is the place where all that Stream thing shows the magic. What it does is to <strong>pipe</strong> the data to the <strong>stdout</strong> that is to be rendered on screen. That&#39;s why I named it as Source. Other classes just work together and periodically update the data.</p>

<h1>Learning</h1>

<blockquote>
<p>finally the thing is that, was this all worth doing ?</p>
</blockquote>

<p>Answer is : <strong>Obviously, Yes. It&#39;s always good to be pragmatic.</strong></p>

<ul>
<li>Now I feel as good with <strong>CoffeeScript</strong> as I feel with my love, <strong>Python</strong>.

<ul>
<li>as the Book says, CoffeeScript is a little language, but it&#39;s pretty cool one.</li>
</ul></li>
<li>Finally I have a <a href="https://www.npmjs.org/package/termping">NPM Module</a> under my name \m/.

<ul>
<li>I have completed things in form of NPM modules 2-3 times but never published them, because I developed them for internal/local use only.</li>
</ul></li>
<li>I continued working on it, because I just wanted to complete that un-complete <a href="https://github.com/pravj/vingvong">vingvong</a> thing.

<ul>
<li>Finally now, the revenge has been taken, <strong>Yo</strong>.</li>
<li>It was the motive to complete it, that&#39;s why I have added that ♥ in starting, instead of adding it in last.</li>
</ul></li>
</ul>

<h1>Extra Learning</h1>

<blockquote>
<p>Extra learning just means, things that I explored while developing it.</p>
</blockquote>

<ul>
<li><strong>termping</strong> is entirely developed in <strong>Vim</strong>, <strong><em>you can smell it</em></strong>.</li>
<li><strong>Git</strong> repo in <strong>termping</strong> uses a pattern in it&#39;s <a href="https://github.com/pravj/termping/commits/master">commit messages</a>.

<ul>
<li><strong>Commit messages uses a Prefix with them, which is</strong></li>
<li><strong>add</strong> : when your commit is adding something new to the repository.</li>
<li><strong>change</strong> : when your commit is changing something that already exists.</li>
<li><strong>remove</strong> : when your commit is removing things from the repository.</li>
<li><strong>fix</strong> : when commit fixes something wrong with repository.</li>
<li><strong>update</strong> : when commit updates version info about repository.</li>
</ul></li>
<li>Commit messages respects everything <a href="http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html">suggested</a> by the great man of <em>Vim World</em>, <a href="https://github.com/tpope">Tim Pope</a></li>
</ul>

<h1>Contribution</h1>

<p><strong>termping</strong> is still not complete, what you can contribute is :</p>

<ul>
<li>A scoring thing, that counts score and decide winner when one player reach at score limit.</li>
<li>A level thing, that divides the game in parts depending on level of difficulty.</li>
<li>Feel free to open any <a href="https://github.com/pravj/termping/issues">issue</a> or <a href="https://github.com/pravj/termping/pulls">Pull requests</a> with a feature you want there.</li>
</ul>

<p>I am not directly writing any more code to it right now, because I have to get involved with some other necessary things, but I will try to helps anyone interested.</p>

<p><strong>It was a great journey so far, with nice learning experience.</strong> </p>

</div>

<div class="social">
  <span>
    <iframe src="http://ghbtns.com/github-btn.html?user=pravj&type=follow&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="165" height="20">
    </iframe>
  </span>

  <span class="tweet">
    <a href="https://twitter.com/share" class="twitter-share-button" data-via="hackpravj">
      Tweet
    </a>
    <script>
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
    </script>
  </span>

  <span class="fb-like" data-href="//pravj.github.io" data-action="like" data-layout="button_count" data-show-faces="false" data-share="false" style="display: inline-flex;">
  </span>
</div>


<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2015/01/11/post-mortem-of-an-internet-accident/">
            Post-mortem of an Internet Accident
            <small>11 Jan 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2014/11/01/going-on-the-go-path/">
            geo_pattern &#58; going on the Go path
            <small>01 Nov 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2014/05/23/introducing-modified-lanyon-and-harry/">
            introducing <b>modified</b> lanyon and harry and me
            <small>23 May 2014</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

<div class="disqus">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'pravj'; // required: replace example with your forum shortname
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
      Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>
    <a href="http://disqus.com" class="dsq-brlink">
      comments powered by <span class="logo-disqus">Disqus</span>
    </a> 
</div>


<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <!-- Google Analytics -->
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48537986-1', 'pravj.github.io');
  ga('send', 'pageview');

</script>


  </body>
</html>
